/**
 * Runtime tools. Use these tasks to invoke compiled tools directly from gradle.
 */

task importData(dependsOn: 'classes', type: JavaExec) {
  description "Run ImportWhelk. (USAGE: -Dargs='<bib|auth> [resource] [since] [mode(<default|riak>)]')"
  classpath = sourceSets.main.runtimeClasspath
  main = 'se.kb.libris.whelks.ImportWhelk'
  args(System.getProperty('args', "").split() as String[])
}

task reindexData(dependsOn: 'classes', type: JavaExec) {
  description "Run ReindexingWhelk. (USAGE: -Dargs='<bib|auth> [resource] [since]')"
  classpath = sourceSets.main.runtimeClasspath
  main = 'se.kb.libris.whelks.ReindexingWhelk'
  args(System.getProperty('args', "").split() as String[])
}

task(groovy, dependsOn: 'classes', type: JavaExec) {
  description "Run a Groovy Script (USAGE: -Dargs='<script> [...]')"
  classpath = sourceSets.main.runtimeClasspath
  main = 'groovy.ui.GroovyMain'
  args(System.getProperty('args', "").split() as String[])
}

task(console, dependsOn: 'classes', type: JavaExec) {
  description "Launch a Groovy Console"
  classpath = sourceSets.main.runtimeClasspath
  main = 'groovy.ui.Console'
}

task(convertIso2709ToJson, dependsOn: 'classes', type: JavaExec) {
    description "Convert an ISO2709 file to JSON (USAGE: -Dargs='<infile>')"
    classpath = sourceSets.main.runtimeClasspath
    main = 'se.kb.libris.conch.converter.MarcJSONConverter'
    args(System.getProperty('args', "").split() as String[])
}
