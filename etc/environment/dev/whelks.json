{
    "_whelks": [
        {
            "defterms":{
                "_class" : "se.kb.libris.whelks.http.HttpStandardWhelk",
                "_plugins" : [
                    "localdefinitiondata"
                    ],
                "contentRoot" : "/def/term",
                "docBaseUri" : "http://libris.kb.se/"
            }
        },
    {
        "def":{
            "_class" : "se.kb.libris.whelks.http.HttpStandardWhelk",
            "_plugins" : [
                "ptstorage",
                "localindex",
                "fusekigraphstore",
                "turtleconverter",
                "defsindexconverter",
                "search",
                "documentapi"
                ],
            "docBaseUri" : "http://libris.kb.se/"
        }
    },
    {
        "libris":{
            "_class" : "se.kb.libris.whelks.http.HttpStandardWhelk",
            "_converters": [
                "oaipmhxmlconverter",
                "marcconverter",
                "turtleconverter"
                ],
            "_expanders": [
                "locallinkexpander"
                ],
            "_importers": [
                "oaipmhimporter",
                "marcimporter"
                ],
            "_apis": [
                "remotesearch",
                "operator",
                "formatter",
                "dumper",
                "search",
                "sparqlapi",
                "libcount",
                "completeexpander",
                "isxntool",
                "documentapi"
                ],
            "_otherplugins": [
                "localindex",
                "pthybrid",
                "entityextractor",
                "linkcompleter",
                "indexlinkfinder",
                "fusekigraphstore"
                ],
            "contentRoot" : "/",
            "docBaseUri" : "http://libris.kb.se/"
        }
    }
    ],
        "_plugins": {
            "localindex": {
                "_class" : "se.kb.libris.whelks.component.ElasticSearchNode",
                "_params" : "work/data",
                "_unique" : true
            },
            "ptstorage": {
                "_class" : "se.kb.libris.whelks.component.PairtreeDiskStorage",
                "_params" : {
                    "storageDir": "work/storage",
                    "contentTypes": ["application/ld+json"],
                    "versioning" : true,
                    "baseStorageSuffix": "pairtree"
                }
            },
            "pthybrid": {
                "_class" : "se.kb.libris.whelks.component.PairtreeHybridDiskStorage",
                "_params" : {
                    "storageDir": "/Users/markus/dev/librisxl/work/storage",
                    "contentTypes": ["application/ld+json"],
                    "versioning" : true,
                    "baseStorageSuffix": "pairtree"
                }
            },
            "flatstorage": {
                "_class" : "se.kb.libris.whelks.component.FlatDiskStorage",
                "_params" : {
                    "storageDir": "work/storage/flat/main",
                    "contentTypes": ["application/ld+json"]
                }
            },
            "swepubstorage": {
                "_class" : "se.kb.libris.whelks.component.FlatDiskStorage",
                "_params" : {
                    "storageDir": "work/storage/flat/swepub",
                    "contentTypes": ["application/mods+xml"]
                }
            },
            "diskstorage": {
                "_class" : "se.kb.libris.whelks.component.DiskStorage",
                "_params" : {
                    "storageDir": "work/storage/disk/jsonld",
                    "contentTypes": ["application/ld+json"]
                }
            },
            "localdefinitiondata": {
                "_class": "se.kb.libris.whelks.api.DefinitionDataRestlet",
                "_params": "datatools/build/"
            },
            "locallinkexpander" : {
                "_class" : "se.kb.libris.whelks.plugin.JsonLDLinkExpander",
                "_plugins" : [
                    "localindex"
                    ],
                "_params" : {
                    "requiredDataset" : [ "bib" ],
                    "nodesToExpand": {
                        "about.attributedTo" : {
                            "method": "query",
                            "index" : "libris",
                            "dataset" : "auth",
                            "field" : "about.@id",
                            "queryProperties": {
                                "_source.include" : ["about.*"]
                            },
                            "resultKey" : "about"
                        },
                        "about.author" : {
                            "method": "query",
                            "index" : "libris",
                            "dataset" : "auth",
                            "field" : "about.@id",
                            "queryProperties": {
                                "_source.include" : ["about.*"]
                            },
                            "resultKey" : "about"
                        },
                        "about.language" : {
                            "method": "query",
                            "index" : "def",
                            "dataset" : "languages",
                            "field" : "@id"
                        },
                        "about.country" : {
                            "method": "query",
                            "index" : "def",
                            "dataset" : "countries",
                            "field" : "@id"
                        },
                        "about.not.used.language" : {
                            "method" : "http",
                            "url" : "http://localhost:8180/whelk-webapi"
                        },
                        "about.nonsense.at.the.same.whelk" : {
                            "method" : "get"
                        }

                    }
                }
            }
        }
}
